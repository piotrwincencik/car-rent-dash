{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\piotr\\\\car-rent-dash\\\\src\\\\components\\\\Card.tsx\";\nimport { onSnapshot } from \"firebase/firestore\";\nimport React, { useEffect, useState } from \"react\";\nimport { carsCollection } from \"../lib/controler\";\nimport Information from \"./Information\";\nfunction Card() {\n  const [cars, setCars] = useState([]);\n  const [sort, setSort] = useState(\"\");\n  useEffect(() => onSnapshot(carsCollection, snapshot => {\n    setCars(snapshot.docs.map(doc => {\n      return {\n        id: doc.id,\n        ...doc.data()\n      };\n    }));\n  }), []);\n  const sortedCars = cars === null || cars === void 0 ? void 0 : cars.sort((a, b) => {\n    if (sort === \"model\") {\n      if (a.model && b.model) return a.model.localeCompare(b.model);\n    }\n    if (sort === \"perKm\") {\n      return Number(a.perKm) - Number(b.perKm);\n    }\n    if (sort === \"drive\") {\n      return Number(a.drive) - Number(b.drive);\n    }\n    if (sort === \"power\") {\n      return Number(a.power) - Number(b.power);\n    }\n    return 0;\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"sort-model\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, \"Sort the cars\"), /*#__PURE__*/React.createElement(\"select\", {\n    className: \"select\",\n    defaultValue: \"\",\n    onChange: e => setSort(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, \"Sort By\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"model\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, \"Model\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"perKm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, \"Price per km\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"drive\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, \"Drivetrain\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"power\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, \"Power\")), /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"model\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, \"All cars\"), cars && cars.length ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"individual-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, sortedCars === null || sortedCars === void 0 ? void 0 : sortedCars.map(car => /*#__PURE__*/React.createElement(Information, {\n    key: car.id,\n    car: car,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }))) : /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"no-cars\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, \"There are no cars. Please add one\"));\n}\nexport default Card;","map":{"version":3,"names":["onSnapshot","React","useEffect","useState","carsCollection","Information","Card","cars","setCars","sort","setSort","snapshot","docs","map","doc","id","data","sortedCars","a","b","model","localeCompare","Number","perKm","drive","power","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","defaultValue","onChange","e","target","value","length","car","key"],"sources":["C:/Users/piotr/car-rent-dash/src/components/Card.tsx"],"sourcesContent":["import { DocumentData, onSnapshot, QuerySnapshot } from \"firebase/firestore\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { carsCollection } from \"../lib/controler\";\r\nimport { NewCarType } from \"../Types/car\";\r\nimport Information from \"./Information\";\r\n\r\nfunction Card() {\r\n  const [cars, setCars] = useState<NewCarType[]>([]);\r\n  const [sort, setSort] = useState<string>(\"\");\r\n\r\n  useEffect(\r\n    () =>\r\n      onSnapshot(carsCollection, (snapshot: QuerySnapshot<DocumentData>) => {\r\n        setCars(\r\n          snapshot.docs.map((doc) => {\r\n            return {\r\n              id: doc.id,\r\n              ...doc.data(),\r\n            };\r\n          })\r\n        );\r\n      }),\r\n    []\r\n  );\r\n\r\n  const sortedCars = cars?.sort((a, b) => {\r\n    if (sort === \"model\") {\r\n      if (a.model && b.model) return a.model.localeCompare(b.model);\r\n    }\r\n    if (sort === \"perKm\") {\r\n      return Number(a.perKm) - Number(b.perKm);\r\n    }\r\n    if (sort === \"drive\") {\r\n      return Number(a.drive) - Number(b.drive);\r\n    }\r\n    if (sort === \"power\") {\r\n      return Number(a.power) - Number(b.power);\r\n    }\r\n    return 0;\r\n  });\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <h2 className=\"sort-model\">Sort the cars</h2>\r\n      <select\r\n        className=\"select\"\r\n        defaultValue={\"\"}\r\n        onChange={(e) => setSort(e.target.value)}\r\n      >\r\n        <option value=\"\">Sort By</option>\r\n        <option value=\"model\">Model</option>\r\n        <option value=\"perKm\">Price per km</option>\r\n        <option value=\"drive\">Drivetrain</option>\r\n        <option value=\"power\">Power</option>\r\n      </select>\r\n      <h2 className=\"model\">All cars</h2>\r\n      {cars && cars.length ? (\r\n        <div className=\"individual-card\">\r\n          {sortedCars?.map((car) => (\r\n            <Information key={car.id} car={car} />\r\n          ))}\r\n        </div>\r\n      ) : (\r\n        <h2 className=\"no-cars\">There are no cars. Please add one</h2>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Card;"],"mappings":"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"},"metadata":{},"sourceType":"module"}