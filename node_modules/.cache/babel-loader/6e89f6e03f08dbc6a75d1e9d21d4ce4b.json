{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\piotr\\\\car-rent-dash\\\\src\\\\components\\\\Search\\\\index.tsx\";\nimport React, { useRef, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nconst Search = () => {\n  const [cars, setCars] = useState([]);\n  const [filteredCars, setFilteredCars] = useState([]);\n  //   const [search, setSearch] = useState<string>(\"\");\n  const searchRef = useRef(null);\n\n  /*useEffect(\r\n    () =>\r\n      onSnapshot(carsCollection, (snapshot: QuerySnapshot<DocumentData>) => {\r\n        setCars(\r\n          snapshot.docs.map((doc) => {\r\n            return {\r\n              id: doc.id,\r\n              ...doc.data(),\r\n            };\r\n          })\r\n        );\r\n      }),\r\n    []\r\n  );\r\n  */\n  const handleSearch = () => {\n    var _searchRef$current;\n    if (((_searchRef$current = searchRef.current) === null || _searchRef$current === void 0 ? void 0 : _searchRef$current.value) === null) return;\n    setFilteredCars(cars.filter(car => {\n      var _searchRef$current2;\n      return car.model.toLowerCase().includes((_searchRef$current2 = searchRef.current) === null || _searchRef$current2 === void 0 ? void 0 : _searchRef$current2.value);\n    }));\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search__page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"inputsearch\",\n    placeholder: \"Search for a car\",\n    ref: searchRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleSearch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, \"Go\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, filteredCars.length ? filteredCars.map(car => /*#__PURE__*/React.createElement(\"div\", {\n    key: car.id,\n    className: \"search__model\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/cars/${car.id}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }, car.model)))) : /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }, \"No cars found\")));\n};\nexport default Search;","map":{"version":3,"names":["React","useRef","useState","Link","Search","cars","setCars","filteredCars","setFilteredCars","searchRef","handleSearch","_searchRef$current","current","value","filter","car","_searchRef$current2","model","toLowerCase","includes","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","ref","onClick","length","map","key","id","to"],"sources":["C:/Users/piotr/car-rent-dash/src/components/Search/index.tsx"],"sourcesContent":["import { DocumentData, onSnapshot, QuerySnapshot } from \"firebase/firestore\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { carsCollection } from \"../../lib/controler\";\r\nimport { NewCarType } from \"../../Types/car\";\r\n\r\nconst Search: React.FC = () => {\r\n  const [cars, setCars] = useState<NewCarType[]>([]);\r\n  const [filteredCars, setFilteredCars] = useState<NewCarType[]>([]);\r\n  //   const [search, setSearch] = useState<string>(\"\");\r\n  const searchRef = useRef<HTMLInputElement>(null);\r\n\r\n  /*useEffect(\r\n    () =>\r\n      onSnapshot(carsCollection, (snapshot: QuerySnapshot<DocumentData>) => {\r\n        setCars(\r\n          snapshot.docs.map((doc) => {\r\n            return {\r\n              id: doc.id,\r\n              ...doc.data(),\r\n            };\r\n          })\r\n        );\r\n      }),\r\n    []\r\n  );\r\n*/\r\n  const handleSearch = () => {\r\n\r\n    if (searchRef.current?.value === null) return;\r\n    setFilteredCars(\r\n      cars.filter((car) => {\r\n        return car\r\n          .model!.toLowerCase()\r\n          .includes(searchRef.current?.value as string);\r\n      })\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"search__page\">\r\n      <div className=\"search\">\r\n        <input\r\n          type=\"text\"\r\n          className=\"inputsearch\"\r\n          placeholder=\"Search for a car\"\r\n\r\n          ref={searchRef}\r\n        />\r\n        <button onClick={handleSearch}>Go</button>\r\n      </div>\r\n      <div>\r\n        {filteredCars.length ? (\r\n          filteredCars.map((car) => (\r\n            <div key={car.id} className=\"search__model\">\r\n              <Link to={`/cars/${car.id}`}>\r\n                <h1>{car.model}</h1>\r\n              </Link>\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <h1>No cars found</h1>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Search;"],"mappings":";AACA,OAAOA,KAAK,IAAeC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAC1D,SAASC,IAAI,QAAQ,kBAAkB;AAIvC,MAAMC,MAAgB,GAAGA,CAAA,KAAM;EAC7B,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGJ,QAAQ,CAAe,EAAE,CAAC;EAClD,MAAM,CAACK,YAAY,EAAEC,eAAe,CAAC,GAAGN,QAAQ,CAAe,EAAE,CAAC;EAClE;EACA,MAAMO,SAAS,GAAGR,MAAM,CAAmB,IAAI,CAAC;;EAEhD;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACE,MAAMS,YAAY,GAAGA,CAAA,KAAM;IAAA,IAAAC,kBAAA;IAEzB,IAAI,EAAAA,kBAAA,GAAAF,SAAS,CAACG,OAAO,cAAAD,kBAAA,uBAAjBA,kBAAA,CAAmBE,KAAK,MAAK,IAAI,EAAE;IACvCL,eAAe,CACbH,IAAI,CAACS,MAAM,CAAEC,GAAG,IAAK;MAAA,IAAAC,mBAAA;MACnB,OAAOD,GAAG,CACPE,KAAK,CAAEC,WAAW,CAAC,CAAC,CACpBC,QAAQ,EAAAH,mBAAA,GAACP,SAAS,CAACG,OAAO,cAAAI,mBAAA,uBAAjBA,mBAAA,CAAmBH,KAAe,CAAC;IACjD,CAAC,CACH,CAAC;EACH,CAAC;EAED,oBACEb,KAAA,CAAAoB,aAAA;IAAKC,SAAS,EAAC,cAAc;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC3B3B,KAAA,CAAAoB,aAAA;IAAKC,SAAS,EAAC,QAAQ;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACrB3B,KAAA,CAAAoB,aAAA;IACEQ,IAAI,EAAC,MAAM;IACXP,SAAS,EAAC,aAAa;IACvBQ,WAAW,EAAC,kBAAkB;IAE9BC,GAAG,EAAErB,SAAU;IAAAa,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAChB,CAAC,eACF3B,KAAA,CAAAoB,aAAA;IAAQW,OAAO,EAAErB,YAAa;IAAAY,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,IAAU,CACtC,CAAC,eACN3B,KAAA,CAAAoB,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACGpB,YAAY,CAACyB,MAAM,GAClBzB,YAAY,CAAC0B,GAAG,CAAElB,GAAG,iBACnBf,KAAA,CAAAoB,aAAA;IAAKc,GAAG,EAAEnB,GAAG,CAACoB,EAAG;IAACd,SAAS,EAAC,eAAe;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACzC3B,KAAA,CAAAoB,aAAA,CAACjB,IAAI;IAACiC,EAAE,EAAG,SAAQrB,GAAG,CAACoB,EAAG,EAAE;IAAAb,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC1B3B,KAAA,CAAAoB,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAKZ,GAAG,CAACE,KAAU,CACf,CACH,CACN,CAAC,gBAEFjB,KAAA,CAAAoB,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,eAAiB,CAEpB,CACF,CAAC;AAEV,CAAC;AAED,eAAevB,MAAM"},"metadata":{},"sourceType":"module"}