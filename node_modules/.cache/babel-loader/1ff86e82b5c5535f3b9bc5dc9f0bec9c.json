{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\piotr\\\\car-rent-dash\\\\src\\\\components\\\\Details.tsx\";\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { firestore } from '../lib/controler';\nimport { doc, getDoc } from 'firebase/firestore';\nimport Information from './Information';\nfunction Details() {\n  const {\n    id\n  } = useParams();\n\n  //fetch a single document\n  const getCar = doc(firestore, `cars/${id}`);\n  const [isLoading, setIsLoading] = useState(false);\n  const [car, setCar] = useState({});\n  useEffect(() => {\n    const fetchCarData = async () => {\n      setIsLoading(true);\n      const docSnap = await getDoc(getCar);\n      if (docSnap.exists()) {\n        const newCarObj = {\n          id: docSnap.id,\n          ...docSnap.data()\n        };\n        setCar(newCarObj);\n        setIsLoading(false);\n      } else {\n        // doc.data() will be undefined in this case\n        console.log(\"No such document\");\n      }\n    };\n    fetchCarData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  if (isLoading) return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 27\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"car-details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }, Object.keys(car) && Object.keys(car).length ? /*#__PURE__*/React.createElement(Information, {\n    car: car,\n    detailsPage: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 11\n    }\n  }) : null);\n}\nexport default Details;","map":{"version":3,"names":["React","useEffect","useState","useParams","firestore","doc","getDoc","Information","Details","id","getCar","isLoading","setIsLoading","car","setCar","fetchCarData","docSnap","exists","newCarObj","data","console","log","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Object","keys","length","detailsPage"],"sources":["C:/Users/piotr/car-rent-dash/src/components/Details.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { useParams } from 'react-router-dom';\r\nimport { firestore } from '../lib/controler';\r\nimport { doc, getDoc } from 'firebase/firestore';\r\nimport Information from './Information';\r\n\r\nfunction Details() {\r\n    const { id } = useParams();\r\n  \r\n    //fetch a single document\r\n    const getCar = doc(firestore, `cars/${id}`);\r\n  \r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [car, setCar] = useState({});\r\n  \r\n    useEffect(() => {\r\n      const fetchCarData = async () => {\r\n        setIsLoading(true);\r\n        const docSnap = await getDoc(getCar);\r\n        if (docSnap.exists()) {\r\n          const newCarObj = {\r\n            id: docSnap.id,\r\n            ...docSnap.data(),\r\n          };\r\n          setCar(newCarObj);\r\n          setIsLoading(false);\r\n        } else {\r\n          // doc.data() will be undefined in this case\r\n          console.log(\"No such document\");\r\n        }\r\n      };\r\n      fetchCarData();\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n  \r\n    if (isLoading) return <div className=\"loading\" />;\r\n    return (\r\n      <div className=\"car-details\">\r\n        {Object.keys(car) && Object.keys(car).length ? (\r\n          <Information car={car} detailsPage />\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  export default Details;"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,SAAS,QAAQ,kBAAkB;AAC5C,SAASC,SAAS,QAAQ,kBAAkB;AAC5C,SAASC,GAAG,EAAEC,MAAM,QAAQ,oBAAoB;AAChD,OAAOC,WAAW,MAAM,eAAe;AAEvC,SAASC,OAAOA,CAAA,EAAG;EACf,MAAM;IAAEC;EAAG,CAAC,GAAGN,SAAS,CAAC,CAAC;;EAE1B;EACA,MAAMO,MAAM,GAAGL,GAAG,CAACD,SAAS,EAAG,QAAOK,EAAG,EAAC,CAAC;EAE3C,MAAM,CAACE,SAAS,EAAEC,YAAY,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACW,GAAG,EAAEC,MAAM,CAAC,GAAGZ,QAAQ,CAAC,CAAC,CAAC,CAAC;EAElCD,SAAS,CAAC,MAAM;IACd,MAAMc,YAAY,GAAG,MAAAA,CAAA,KAAY;MAC/BH,YAAY,CAAC,IAAI,CAAC;MAClB,MAAMI,OAAO,GAAG,MAAMV,MAAM,CAACI,MAAM,CAAC;MACpC,IAAIM,OAAO,CAACC,MAAM,CAAC,CAAC,EAAE;QACpB,MAAMC,SAAS,GAAG;UAChBT,EAAE,EAAEO,OAAO,CAACP,EAAE;UACd,GAAGO,OAAO,CAACG,IAAI,CAAC;QAClB,CAAC;QACDL,MAAM,CAACI,SAAS,CAAC;QACjBN,YAAY,CAAC,KAAK,CAAC;MACrB,CAAC,MAAM;QACL;QACAQ,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC;MACjC;IACF,CAAC;IACDN,YAAY,CAAC,CAAC;IACd;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,IAAIJ,SAAS,EAAE,oBAAOX,KAAA,CAAAsB,aAAA;IAAKC,SAAS,EAAC,SAAS;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC;EACjD,oBACE7B,KAAA,CAAAsB,aAAA;IAAKC,SAAS,EAAC,aAAa;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACzBC,MAAM,CAACC,IAAI,CAAClB,GAAG,CAAC,IAAIiB,MAAM,CAACC,IAAI,CAAClB,GAAG,CAAC,CAACmB,MAAM,gBAC1ChC,KAAA,CAAAsB,aAAA,CAACf,WAAW;IAACM,GAAG,EAAEA,GAAI;IAACoB,WAAW;IAAAT,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,GACnC,IACD,CAAC;AAEV;AAEA,eAAerB,OAAO"},"metadata":{},"sourceType":"module"}