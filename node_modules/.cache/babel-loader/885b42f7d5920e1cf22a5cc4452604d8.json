{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\piotr\\\\car-rent-dash\\\\src\\\\components\\\\Search\\\\index.tsx\";\nimport { onSnapshot } from \"firebase/firestore\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { carsCollection } from \"../../lib/controler\";\nconst Search = () => {\n  const [cars, setCars] = useState([]);\n  const [filteredCars, setFilteredCars] = useState([]);\n  const searchRef = useRef(null);\n  useEffect(() => onSnapshot(carsCollection, snapshot => {\n    setCars(snapshot.docs.map(doc => {\n      return {\n        id: doc.id,\n        ...doc.data()\n      };\n    }));\n  }), []);\n  const handleSearch = () => {\n    var _searchRef$current;\n    if (((_searchRef$current = searchRef.current) === null || _searchRef$current === void 0 ? void 0 : _searchRef$current.value) === null) return;\n    setFilteredCars(cars.filter(car => {\n      var _searchRef$current2, _searchRef$current3;\n      return car.make.toLowerCase().includes((_searchRef$current2 = searchRef.current) === null || _searchRef$current2 === void 0 ? void 0 : _searchRef$current2.value) || car.model.toLowerCase().includes((_searchRef$current3 = searchRef.current) === null || _searchRef$current3 === void 0 ? void 0 : _searchRef$current3.value);\n    }));\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search__page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"inputsearch\",\n    placeholder: \"Search for a car\",\n    ref: searchRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleSearch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, \"Go\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, filteredCars.length ? filteredCars.map(car => /*#__PURE__*/React.createElement(\"div\", {\n    key: car.id,\n    className: \"search__model\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/cars/${car.id}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, car.make, \" \", car.model)))) : /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, \"No cars found\")));\n};\nexport default Search;","map":{"version":3,"names":["onSnapshot","React","useEffect","useRef","useState","Link","carsCollection","Search","cars","setCars","filteredCars","setFilteredCars","searchRef","snapshot","docs","map","doc","id","data","handleSearch","_searchRef$current","current","value","filter","car","_searchRef$current2","_searchRef$current3","make","toLowerCase","includes","model","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","ref","onClick","length","key","to"],"sources":["C:/Users/piotr/car-rent-dash/src/components/Search/index.tsx"],"sourcesContent":["import { DocumentData, onSnapshot, QuerySnapshot } from \"firebase/firestore\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { carsCollection } from \"../../lib/controler\";\r\nimport { NewCarType } from \"../../Types/car\";\r\n\r\nconst Search: React.FC = () => {\r\n  const [cars, setCars] = useState<NewCarType[]>([]);\r\n  const [filteredCars, setFilteredCars] = useState<NewCarType[]>([]);\r\n  const searchRef = useRef<HTMLInputElement>(null);\r\n\r\n  useEffect(\r\n    () =>\r\n      onSnapshot(carsCollection, (snapshot: QuerySnapshot<DocumentData>) => {\r\n        setCars(\r\n          snapshot.docs.map((doc) => {\r\n            return {\r\n              id: doc.id,\r\n              ...doc.data(),\r\n            };\r\n          })\r\n        );\r\n      }),\r\n    []\r\n  );\r\n\r\n  const handleSearch = () => {\r\n\r\n\r\n    if (searchRef.current?.value === null) return;\r\n    setFilteredCars(\r\n      cars.filter((car) => {\r\n        return car.make!.toLowerCase().includes(searchRef.current?.value as string) ||\r\n          car.model!.toLowerCase().includes(searchRef.current?.value as string);\r\n      })\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"search__page\">\r\n      <div className=\"search\">\r\n        <input\r\n          type=\"text\"\r\n          className=\"inputsearch\"\r\n          placeholder=\"Search for a car\"\r\n\r\n          ref={searchRef}\r\n        />\r\n        <button onClick={handleSearch}>Go</button>\r\n      </div>\r\n      <div>\r\n        {filteredCars.length ? (\r\n          filteredCars.map((car) => (\r\n            <div key={car.id} className=\"search__model\">\r\n              <Link to={`/cars/${car.id}`}>\r\n                <h1>{car.make} {car.model}</h1>\r\n              </Link>\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <h1>No cars found</h1>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Search;"],"mappings":"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"},"metadata":{},"sourceType":"module"}